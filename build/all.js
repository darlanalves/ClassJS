/*
 WhappJS
 Built on 2013-04-09
*/

(function(){"use strict";var t=function(){},e={}.hasOwnProperty,n=Array.prototype.slice,i=Object.prototype.toString;t.apply=function(t,n,i){var s;if(i=Boolean(i)||!1)for(s in n)e.call(n,s)&&(t[s]=n[s]);else for(s in n)t[s]=n[s];return t},t.extend=function(e){var i,s,r=n.call(arguments,1);for(i=0,s=r.length;s>i;i++)t.apply(e,r[i]);return e};var s={},r={};t.isArray=Array.isArray||function(t){return"[object Array]"===i.call(t)},t.isObject=function(t){return t===Object(t)},t.isFunction=function(t){return"[object Function]"===i.call(t)},t.isString=function(t){return"[object String]"===i.call(t)},t.isNumber=function(t){return"[object Number]"===i.call(t)},t.use=function(){var t,e,i,r,a,o,h,l,u;for(e=isArray(e)?e[0]:n.call(arguments),i=0,r=e.length,l={};r>i;)if(u=window,a=e[i],t=a.replace("/","."),o=t.split("."),s[t])l[o.pop()]=s[t];else{for(;0!==o.length;)if(h=o.shift(),u=u[h],void 0===u)throw Error("Class "+t+" not found!");useCache[t]=u,l[h]=u,i+=1}return l},t.namespace=function(e,n){var i,s,a,o,h;if(o=window,void 0!==r[e])o=r[e];else{if(h=e.split("."),0!==h.length)for(i=0,a=h.length;a>i;)s=h[i],o=o[s]||(o[s]={}),i+=1;r[e]=o}return t.isFunction(n)&&n.call(o),o},this.Whapp=t}).call(this),function(){({}).hasOwnProperty,[].slice,this.Class=function(){this.constructor.apply(this,arguments)},this.Class.prototype={config:{},constructor:function(){return this},$self:function(){return this.self},getPrototypeChain:function(t){var e,n=[],i=this.$self(),s=Whapp.ClassManager.superName;for(i&&(this[t]!=i[t]&&n.unshift(this[t]),__hasOwn.call(i,t)&&n.unshift(i[t])),e=this.superclass;e;)e&&__hasOwn.call(e,t)&&n.unshift(e[t]),e=e[s];return n},getMergedWithParents:function(t,e){var n,i,s,r,a;if(n=this.getPrototypeChain(t),e=1==Boolean(e),s=null,n.length){if(a=__last(n),__isArray(a))i=!1,s=[];else{if(!__isObject(a))return a;i=!0,s={}}for(;r=n.shift();)i&&r?_.extend(s,r):r.length&&(s=s.concat(r));i&&e&&(s=__clone(s))}return s},initConfig:function(t){var e,n,i,s,r,a;if(!this.$configInited){i=this,s=_.extend({},this.config,t),a=this.config,r=function(t){var e,n,s,r;return e=t+"",e=e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase(),s=t,r="set"+e,n="get"+e,i[r]||(i[r]=function(t){return this[s]=t,this}),i[n]||(i[n]=function(){return this[s]}),!0};for(e in a)__hasProp.call(a,e)&&(n=a[e],r(e));this.config=s,_.extend(this,s),this.$configInited=!0}return this}},this.Class.uuid=function(){var t,e,n,i,s,r,a,o,h,l;for(i=[],e="0123456789ABCDEF",n=function(){for(l=[],s=0;35>=s;s++)l.push(s);return l}.apply(this),r=0,o=n.length;o>r;r++)t=n[r],i[t]=Math.floor(16*Math.random());for(i[14]=4,i[19]=8|3&i[19],a=0,h=n.length;h>a;a++)t=n[a],i[t]=e[i[t]];return i[8]=i[13]=i[18]=i[23]="-",i.join("")}}.call(Whapp),function(){var t=({}.hasOwnProperty,function(t){return Whapp.ClassManager.$cache[t]||Whapp.namespace(t)||null}),e={$cache:{},superName:"__super__",define:function(e,n){var i,s,r,a,o,h;if(a=e.split("."),i=a.pop(),o=a.length>1?Whapp.namespace(a.join(".")):window,n||(n={}),n&&n.extend){if(r=Whapp.isString(n.extend)?t(n.extend):n.extend,delete n.extend,r&&r.__final===!0)throw Error("Cannot extend final class: "+e)}else r=Whapp.Class;h={},Whapp.isObject(n.statics)&&(Whapp.apply(h,n.statics),delete n.statics),Whapp.isArray(n.consts)&&(Whapp.apply(h,Whapp.ClassManager.consts(n.consts)),delete n.consts),Whapp.apply(n,{$class:e,$name:i,$owner:o,$parent:r.prototype.$class||null}),s=Whapp.ClassManager.extend(r,n,h),Whapp.ClassManager.$cache[e]=s,o[i]=s},extend:function(n,i,s){var r,a;return r=function(){return this.constructor.apply(this,arguments)},_.extend(r,n,s),a=function(){},a.prototype=n.prototype,r.prototype=new a,_.extend(r.prototype,i),r.prototype[e.superName]=n.prototype,r.prototype.self=r,r.prototype.callParent=function(n,i){for(var s,r=e.superName,a=this;a&&!hasOwnProperty.call(a,n);)a=a[r];a&&(a=a[r],a&&null!==(s=t(a.$class))&&s&&s.prototype&&_.isFunction(s.prototype[n])&&s.prototype[n].apply(this,i))},r},create:function(e,n){var i=t(e);if(i)return new i(n);throw Error("Class not found: "+e)},resolve:function(e){return t(e)},consts:function(t){var e,n,i,s;for(n={},i=0,s=t.length;s>i;i++)e=t[i],_.isString(e)&&(n[e]=e);return n}};Whapp.ClassManager=e,Whapp.define=e.define}.call(this),function(){var t,e=[].slice;Whapp.namespace("Whapp.EventManager"),Whapp.define("Whapp.EventManager",{pauseEvents:!1,addListener:function(){var n,i,s,r,a,o,h;for(a=arguments[0],n=arguments[1],s=arguments[2],h=arguments.length>=4?e.call(arguments,3):[],!n||!_.isFunction(n),a=a.split(t),i=this._callbacks||(this._callbacks={});r=a.shift();)o=i[r]||(i[r]=[]),o.push({callback:n,context:s||this,params:h});return this},removeListener:function(e,n,i){var s,r,a,o,h;for(!(s=this._callbacks),e||n||i||delete this._callbacks,e=e.split(t),h=[];r=e.shift();)h.push(function(){var t,e;t=this._callbacks[r],e=[];for(o in t)a=t[o],n&&n===o.callback?e.push(delete this._callbacks[r][a]):e.push(delete this._callbacks[r]);return e}.call(this));return h},trigger:function(){var n,i,s,r,a,o,h,l,u,c;if(r=arguments[0],h=arguments.length>=2?e.call(arguments,1):[],this.pauseEvents||!(i=this._callbacks))return this;for(r?(r=r.split(t),r.push("all")):r=["all"],l=!0;s=r.shift();)if(a=i[s])for(u=0,c=a.length;c>u&&(o=a[u],n=[],o.params.length&&(n=n.concat(o.params)),h.length&&(n=n.concat(h)),l=l&&o.callback.apply(o.context,n),l!==!1);u++);return l},clearListeners:function(e){var n,i,s;if(!(n=this._callbacks))return this;for(e?(e=e.split(t),e.push("all")):e=["all"],s=[];i=e.shift();)n[i]&&n[i].length?s.push(n[i]=[]):s.push(void 0);return s},once:function(t,e,n){var i,s,r=this,a=!1;return n=n||this,i=function(){r.removeListener(t,s,n),e.apply(this,arguments)},s=function(){a||(a=!0,i.apply(this,arguments),i=null)},this.on(t,s,n),this},on:function(){this.addListener.apply(this,arguments)},off:function(){this.removeListener.apply(this,arguments)},suspendEvents:function(){return this.pauseEvents=!0,this},resumeEvents:function(){return this.pauseEvents=!1,this}}),t=Whapp.EventManager.eventSplitter=/\s+|,\s?/}(),Whapp.define("Whapp.view.HookManager",{constructor:function(){this.hooks={before:[],after:[]}},callHooks:function(t,e,n){var i,s,r,a=this.hooks[t];if(e=e||[],n=n||this,a.length)for(i=0,s=a.length;s>i;i++)if(r=a[i].apply(n,e),r===!1)return r},clear:function(t){this.hooks[t]=[]},clearAll:function(){this.hooks.before=this.hooks.after=[]},push:function(t,e){this.hooks[t].push(e)},getHookedMethod:function(t,e){var n=this;return function(){n.callHooks("before",arguments,e);var i=t.apply(e,arguments);return n.callHooks("after",arguments,e),i}}}),function(){var t={}.hasOwnProperty;Whapp.define("Whapp.Component",{extend:"Whapp.EventManager",destroy:function(){return this.clearListeners(),this.destroyed=!0},hookBefore:function(t,e){this.hook(t,"before",e)},hookAfter:function(t,e){this.hook(t,"after",e)},hook:function(t,e,n){if(!_.isFunction(this[t]))throw Error("Trying to hook on a invalid method: "+t);if(!_.isFunction(n))throw Error("Tried to hook a invalid callback!");this.$hooks||(this.$hooks={}),this[t].$hooked||this.addHooks(t),this.$hooks[t].push(e,n)},addHooks:function(t){var e=this[t];this.$hooks[t]=new Whapp.view.HookManager,this[t]=this.$hooks[t].getHookedMethod(e,this),this[t].$hooked=!0},blocked:!1,block:function(){return this.destroyed?!1:(this.suspendEvents(),this.blocked=!0,this)},unblock:function(){return this.destroyed?!1:(this.resumeEvents(),this.blocked=!1,this)},setDisabled:function(t){return t=void 0!==t?Boolean(t):!0,t?this.block():this.unblock(),this},$id:null,getId:function(){var t=1e3;return function(){return this.$id||(this.$id="component-"+ ++t),this.$id}}(),getPrototypeChain:function(e){var n,i=[],s=this.$self();for(s&&(this[e]!=s[e]&&i.unshift(this[e]),t.call(s,e)&&i.unshift(s[e])),n=this.superclass;n;)n&&t.call(n,e)&&i.unshift(n[e]),n=n.superclass;return i},getMergedWithParents:function(t,e){var n,i,s,r,a;if(n=this.getPrototypeChain(t),e=1==Boolean(e),s=null,n.length){if(a=_.last(n),_.isArray(a))i=!1,s=[];else{if(!_.isObject(a))return a;i=!0,s={}}for(;;)if(r=n.shift(),i&&r?_.extend(s,r):r.length&&(s=s.concat(r)),0==n.length)break;i&&e&&(s=_.clone(s))}return s}})}.call(this),function(){"use strict";Whapp.namespace("Whapp.data"),Whapp.data.Types={register:function(t,e){if(Whapp.data.Types[t])throw Error("Type "+t+" is already registered!");Whapp.data.Types[t]=e},date:{convert:function(t){return t?_.isDate(t)?t:new Date(t):null}},timestamp:{convert:function(t){return new Date(1e3*t)}},time:{convert:function(t){return new Date(parseInt(t,10))}},bool:{convert:function(t){return Boolean(t)}},"int":{convert:function(t){return void 0!==t&&null!==t&&""!==t?parseInt(t.replace(/\D+/,""),10):null}},"float":{convert:function(t){return void 0!==t&&null!==t&&""!==t?parseInt(t.replace(/\D+/,""),10):null}},number:{convert:function(t){return Number(t)}},model:{convert:function(t){return t.toJSON?t.toJSON():null}},auto:{convert:function(t){return t}}}}.call(this),function(){var t=Whapp.data.Types;Whapp.define("Whapp.data.Field",{name:"",constructor:function(t){_.isString(t)&&(t={name:t}),_.extend(this,t)},getValueOf:function(t){return _.isFunction(this.convert)?this.convert(t):this.$convert(t)},$convert:function(e){var n=this.type||"auto";return t[n]?t[n].convert.call(this,e):e}})}.call(this),function(){"use strict";var t=({}.hasOwnProperty,this.Class.uuid,Whapp.data.Field);Whapp.define("Whapp.data.Model",{extend:"Whapp.Component",dirty:!1,modified:null,constructor:function(t){this.data=t,this.modified={},this.mapFields(),this.setData(t,1)},isDirty:function(){return this.dirty},isNew:function(){return null===this.$data.id},getChanges:function(){return this.modified},getRawData:function(){return this.data},getData:function(){return this.$data},setData:function(t,e){var n={};e=void 0!==e?!!e:!1,_.each(this.$fields,function(e,i){n[i]=e.getValueOf(t[i]||null)}),this.$data=n,e||this.trigger("update",this.$data)},get:function(t){return void 0!==this.$data[t]?this.$data[t]:null},set:function(t,e){this.$fields[t]&&(this.data[t]=e,this.$data[t]=this.$fields[t].getValueOf(e));var n={};return n[t]=e,_.extend(this.modified,n),this.dirty=!0,this.trigger("update",n),this},revert:function(){this.modified={},this.dirty=!1,this.trigger("revert",this)},commit:function(){0!=this.dirty&&(this.trigger("commit",this.modified,this),_.extend(this.data,this.modified),this.setData(this.modified),this.revert())},edit:function(){this.dirty=!0},toJSON:function(){return n(this.getData())},mapFields:function(){var e=this.mapping,n=this;this.fields||(this.fields=[]),e&&_.isArray(e)&&_.each(e,function(t){var e=Whapp.ClassManager.resolve(t.model),i=t.name;_.isFunction(e)&&i&&n.fields.push({name:i,type:"model",convert:function(t){if(_.isArray(t)){var n,i,s;for(n=[],i=0,s=t.length;s>i;i++)n.push(new e(t[i]))}else n=new e(t);return n}})});var i=this.fields;this.$fields={},_.isArray(i)&&_.each(i,function(e){n.$fields[e.name]=new t(e)})}});var e=function(t,n){var i,s;for(i in t)if(t.hasOwnProperty(i))if(s=t[i],s===Object(s)&&s instanceof Whapp.data.Model){var r=e(s.getData(),{});for(var a in r)r.hasOwnProperty(a)&&(n[i]||(n[i]={}),n[i][a]=r[a])}else n[i]=s;return n},n=function(t){return e(t,{})}}.call(Whapp),function(){"use strict";var t=/^\s+|\s+$/g,e=/[^0-9.]/,n=/width|height|left|top|right|bottom|minWidth|minHeight|maxWidth|maxHeight/,i={}.hasOwnProperty,s=_.isFunction,r=_.isString,a=(_.isArray,function(t){return e.test(t)?t:t+"px"}),o=_.extend,h=function(){};Whapp.define("Whapp.view.ViewAbstract",{extend:"Whapp.Component",statics:{DOMEvents:{click:!0,dblclick:!0,contextmenu:!0,mousedown:!0,mouseup:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,keydown:!0,keypress:!0,keyup:!0,submit:!0},limbo:document.createDocumentFragment(),find:function(t){return t&&t.nodeType&&11===t.nodeType?t:$(t)||t}},constructor:function(t){this._initialize(t||{}),this.autoRender&&this.appendTo(this.parentNode)},delegateDomEvents:!0,hidden:!1,autoRender:!0,render:h,initialize:h,getEl:function(){return this.$el},select:function(t){return this.$el.find(t)},detach:function(){return Whapp.view.ViewAbstract.limbo.appendChild(this.$el[0]),this.parentNode=null,this},destroy:function(){return this.$el.remove(),this.clearListeners(),this.destroyed=!0},show:function(){return this.$el.show(),this.hidden=!1,this},hide:function(){return this.$el.hide(),this.hidden=!0,this},block:function(){return!this.$el||this.destroyed?!1:(this.suspendEvents(),this.$el.addClass("ui-blocked"),this.blocked=!0,this)},unblock:function(){return!this.$el||this.destroyed?!1:(this.resumeEvents(),this.$el.removeClass("ui-blocked"),this.blocked=!1,this)},setData:function(t){return this.applyData(t),this},getData:function(){return this.$data},appendTo:function(t){return this.doInsert("last",t),this},prependTo:function(t){return this.doInsert("first",t),this},insertBefore:function(t){return this.doInsert("before",t),this},insertAfter:function(t){return this.doInsert("after",t),this},className:!1,tagName:"div",template:!1,getTemplate:function(){return this.template!==!1&&(_.isFunction(this.template)||(this.template=_.template(this.template,null,{variable:"v"}))),this.template},applyTemplate:function(t){var e=this.getTemplate();return e?e(t||this.getData()):""},doInsert:function(t,e){if(e){this.$el||(this.createView(),this.updateView());var n;if(e=$(e),!e)throw Error("Container node not found");if("first"===t){var i=e.find(":first-child");i.length>0?this.$el.before(i):this.$el.append(e),this.parentNode=e}else"last"===t?(this.$el.appendTo(e),this.parentNode=e):(this.parentNode=$(e.parent()),this.$el[n](e));return this}},_initialize:function(t){if(t||(t={}),t.renderTo&&(this.parentNode=$(t.renderTo),delete t.renderTo),this.parentNode||(this.parentNode=Whapp.view.ViewAbstract.limbo),t.data){var e=t.data;delete t.data}else var e={};o(this,t),this.applyData(e,!0),this.initialize(t)},_render:function(){this.applySelectors(),this.applyAttributes(),this.render()},$el:!1,createView:function(){if(this.$el=$(document.createElement(this.tagName)),this.delegateDomEvents){var t=_.keys(t),e=this;this.$el.on(_.keys(t).join(" "),function(t){var n=_.slice(arguments);n.unshift(t.type),e.trigger.apply(e,n)}),t=!1}this.applyCls(),this.applyStyles(),this.hidden&&this.hide()},updateView:function(){var t=this.applyTemplate();t&&this.$el.html(t),this._render()},$renderers:!1,getRenderers:function(){if(this.$renderers===!1){var t,e=null,n=this.getMergedWithParents("renderers")||!1;if(n){e={};for(t in n)i.call(n,t)&&s(n[t])&&(e[t]=n[t])}this.$renderers=e}return this.$renderers},$data:!1,applyData:function(t,e){var n,s=this.getRenderers();if(null!==s)for(name in s)i.call(s,name)&&i.call(t,name)&&(t[name]=s[name].call(this,t[name]!==n?t[name]:null));this.$data||(this.$data={}),_.merge(this.$data,t),e||(this.updateView(),this.trigger("update",this.$data))},attributes:!1,applyAttributes:function(){this.attributes!==!1&&__isObject(this.attributes)&&this.$el.attr(this.attributes);var t=this.getId();this.$el.attr({"data-id":this.$data.id||t,id:t})},styles:!1,applyStyles:function(t){if(t||this.styles!==!1){var e,s;if(t||(t=this.getMergedWithParents("styles")||!1),t){for(s in t)i.call(t,s)&&(e=t[s],n.test(s)&&(this[s]=e,r(prop)||(t[s]=a(e))));this.$el.css(t)}}},applyCls:function(){var e=this.className;e!==!1&&(e=(_.isArray(e)?e.join(" "):e+"").replace(t,"")),this.$el.attr("className",""),e&&this.$el.addClass(e)},renderSelectors:!1,childSelectors:!1,applySelectors:function(t){var e,n,s,r,e,a=this.getMergedWithParents("renderSelectors")||!1,o=this.getMergedWithParents("childSelectors")||!1;if(t=1==Boolean(t),a!==!1){for(r in a)i.call(a,r)&&(!this[r]||t)&&(e=this.select(a[r]),n=e.length,0==n?e=null:1==n&&(e=$(e.first())),this[r]=e);e=null}if(s="#"+this.getId()+"-",o!==!1)for(r in o)i.call(o,r)&&(!this[r]||t)&&(node=this.select(s+o[r]),node.length>0&&(node=$(node.first())),this[r]=node)}})}.call(this),function(){Whapp.define("Whapp.view.LiveView",{extend:"Whapp.view.ViewAbstract",model:null,getModel:function(){return this.model},_initialize:function(t){if(t&&t.model){var e=this;this.model=t.model,this.model.addListener("update",function(){e.doUpdate()}),delete t.model,t.data=this.model.toJSON()}this.callParent("_initialize",[t])},doUpdate:function(){this.applyData(this.getData())},getData:function(){return this.model.toJSON()}})}.call(this),function(){Whapp.define("Whapp.view.LiteView",{extend:"Whapp.view.ViewAbstract"})}.call(this),function(){"use strict";function t(e,n,i){var s,o,h;for(i=i||[],s=0,o=e.length;o>s;s++)h=e[s],a(h)?n?r.apply(i,h):t(h,n,i):i.push(h);return i}var e=document,n=/:\s?/,i=/;\s?/,s=Object.prototype.toString,r=Array.prototype.push,a=function(t){return"[object Array]"==s.call(t)};Whapp.define("Whapp.view.LiveRange",{statics:{placeholderRe:RegExp("{([^}]+)}","ig"),dataLiveRe:RegExp("(.+:[^;]+);?s*","g")},constructor:function(t){this.nodes={},this.html=t},getEl:function(){return this.el},createRange:function(t,n,i){n=n||0,i=Math.abs(i),0==i&&(i=n);var s=e.createRange();return s.setStart(t,n),s.setEnd(t,i),s.extractContents(),s},build:function(t){t=t||e.createElement("div"),t.innerHTML=(a(this.html)?this.html.join(""):this.html)||"",this.el=t,this.scanNodes()},scanHtml:function(t){var e,n,i,s,r=[],a=t.childNodes;for(n=0,s=a.length;s>n;n++)e=a[n],e&&(1==e.nodeType?(i=this.scanHtml(e),i.length&&r.push(i),i=this.scanAttributes(e),i.length&&r.push(i)):(i=this.scanText(e),i.length&&r.push(i)));return r},scanAttributes:function(t){var e,s,r,a=t.getAttribute("data-live"),o=[];if(a&&(t.removeAttribute("data-live"),a=a.split(i),a.length))for(s=0,r=a.length;r>s;s++)e=a[s].split(n),o.push({node:t,name:e[1],attribute:e[0]});return o},scanText:function(t){if(1==t.nodeType||!t.nodeValue)return[];for(var e,n,i,s,r=t.nodeValue,a=[];;){if(e=Whapp.view.LiveRange.placeholderRe.exec(r),!e||!e[0])break;i=e[0],s=e[1],n=e.index,a.push({node:this.createRange(t,n,(i+"").length),name:s})}return a},scanNodes:function(){var e,n,i,s=t(this.scanHtml(this.el));if(s.length)for(e=0,n=s.length;n>e;e++)i=s[e],!this.nodes[i.name]&&(this.nodes[i.name]=[]),this.nodes[i.name].push(i)},setValue:function(t,n){var i,s,r,a;if(a=this.nodes[t],a&&a.length)for(i=0,s=a.length;s>i;i++)r=a[i],r.node instanceof Range?(n=e.createTextNode(n||""),r.node.extractContents(),r.node.insertNode(n)):r.attribute?r.node.setAttribute(r.attribute,n):r.node.innerHTML=n},update:function(t){if(t){var e;for(e in t)t.hasOwnProperty(e)&&this.setValue(e,t[e])}}})}.call(this),function(){Whapp.define("Whapp.view.form.Button",{extend:"Whapp.view.ViewAbstract",consts:["ICON_LEFT","ICON_RIGHT","ICON_TOP","ICON_BOTTOM"],tagName:"button",template:'<span class="ui-icon {icon}" id="{id}-icon"/><span class="ui-label" id="{id}-lbl">{label}</span>',className:"ui-button",config:{icon:"",label:"",iconPos:"ICON_LEFT",name:""},childSelectors:{labelEl:"lbl",iconEl:"icon"},initComponent:function(){return this.$el.addClass("ui-"+this.iconPos.replace("_","-").toLowerCase()),this.setIcon(this.icon),this.setLabel(this.label)},setIcon:function(t){return t?(this.icon=t,this.iconEl.removeClass().addClass("ui-icon "+this.icon),this.$el.removeClass("no-icon")):this.$el.addClass("no-icon")},setLabel:function(t){return t?(this.label=t,this.labelEl.html(t),this.$el.removeClass("no-label")):this.$el.addClass("no-label")}})}.call(this),function(){var t={}.hasOwnProperty;Whapp.define("Whapp.view.form.ButtonGroup",{extend:"Whapp.view.ViewAbstract",className:"ui-buttongroup",tagName:"span",initComponent:function(){var e,n,i,s;if(this.items){i=this.items,s=[];for(n in i)t.call(i,n)&&(e=i[n],s.push(this.addButton(e)));return s}},addButton:function(t){var e;return t.renderTo=this.$el,e=new Whapp.view.form.Button(t)}})}.call(this),function(){Whapp.define("Whapp.view.form.Form",{extend:"Whapp.view.ViewAbstract",tagName:"form",className:"ui-form",serialize:function(){var t,e,n,i,s,r;if(e=this.$el.serializeArray(),n={},e.length)for(s=0,r=e.length;r>s;s++)t=e[s],i=t.name,"[]"===i.substr(-2)?(i=i.substr(0,i.length-2),_.isArray(n[i])||(n[i]=[]),n[i].push(t.value)):n[i]=t.value;return n}})}.call(this),function(){Whapp.define("Whapp.view.form.Group",{extend:"Whapp.view.ViewAbstract",className:"ui-form-group"})}.call(this),function(){Whapp.define("Whapp.view.form.Input",{extend:"Whapp.view.ViewAbstract",config:{type:"text",name:""},template:'<input type="{type}" name="{name}" class="ui-input" />',initialize:function(){return this.$el.addClass("ui-"+this.type)},update:function(t){return this.$el.val(t)},value:function(){return this.$el.val()}})}.call(this),function(){Whapp.define("Whapp.view.form.Text",{extend:"Whapp.view.ViewAbstract",config:{rows:"",columns:"",resize:!1},template:'<textarea rows="{rows}" cols="{columns}" class="ui-edit" />',initialize:function(){return this.$el.addClass("multiline"),this.resize?this.$el.addClass("resize"):void 0}})}.call(this),function(){"use strict";Whapp.define("Whapp.view.form.Toolbar",{extend:"Whapp.view.ViewAbstract",template:'<div class="ui-toolbar ui-clearfix"><div class="ui-left"></div><div class="ui-right"></div></div>',renderSelectors:{left:".ui-left",right:".ui-right"}})}.call(this);